!function(){"use strict";var e={373:function(e,t,n){e.exports=n.p+"c4956c32989e66228de8.svg"},59:function(e,t,n){e.exports=n.p+"b714633333322867634c.svg"},891:function(e,t,n){e.exports=n.p+"fd8ecbd91e520f75b737.jpg"},296:function(e,t,n){e.exports=n.p+"a8e16726d0032fb05cbb.jpg"},672:function(e,t,n){e.exports=n.p+"350bedf99b57d4cbc6ed.jpg"},391:function(e,t,n){e.exports=n.p+"0380c8dc92dacad66b3c.jpg"},96:function(e,t,n){e.exports=n.p+"ec72bc10b66d91f01578.jpg"},739:function(e,t,n){e.exports=n.p+"bd29fc394bd7e91c2612.jpg"},143:function(e,t,n){e.exports=n.p+"9b93b85423e133b4951e.jpg"}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.p="",function(){var e=n(373);function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var r=function(){function n(e,t,r){var o,i,u=this,a=r.handlePreviewPopup;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),i=function(){u._element.querySelector(".card__like-button").classList.toggle("card__like-button_active")},(o="_handleLikeButton")in this?Object.defineProperty(this,o,{value:i,enumerable:!0,configurable:!0,writable:!0}):this[o]=i,this._title=e.name,this._link=e.link,this._handlePreviewPopup=a,this._cardSelector=t}var r,o;return r=n,(o=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card__item").cloneNode(!0)}},{key:"_handleDeleteButton",value:function(){this._element.remove()}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".card__like-button").addEventListener("click",(function(){return e._handleLikeButton()})),this._element.querySelector(".card__trash").addEventListener("click",(function(){return e._handleDeleteButton()})),this._element.querySelector(".card__image").addEventListener("click",(function(){return e._handlePreviewPopup()}))}},{key:"generateCard",value:function(){this._element=this._getTemplate(),this._setEventListeners();var t=this._element.querySelector(".card__image");return t.src=this._link,t.alt=this._title,this._element.querySelector(".card__place").textContent=this._title,this._element.querySelector(".card__trash").src=e,this._element}}])&&t(r.prototype,o),Object.defineProperty(r,"prototype",{writable:!1}),n}();function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._inputSelector=n.inputSelector,this._submitButtonSelector=n.submitButtonSelector,this._inactiveButtonClass=n.inactiveButtonClass,this._inputErrorClass=n.inputErrorClass,this._errorClass=n.errorClass,this._buttonElement=null,this._inputList=null,this._form=t}var t,n;return t=e,(n=[{key:"_hideInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.remove(this._inputErrorClass),t.classList.remove(this._errorClass),t.textContent=""}},{key:"_showInputError",value:function(e){var t=this._form.querySelector("#".concat(e.id,"-error"));e.classList.add(this._inputErrorClass),t.classList.add(this._errorClass),t.textContent=e.validationMessage}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._buttonElement.disabled=!0,this._buttonElement.classList.add(this._inactiveButtonClass)):(this._buttonElement.disabled=!1,this._buttonElement.classList.remove(this._inactiveButtonClass))}},{key:"_checkIfValid",value:function(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}},{key:"resetValidation",value:function(){this._inputList.forEach(this._hideInputError.bind(this)),this._toggleButtonState()}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(e){return!e.validity.valid}))}},{key:"_setEventListeners",value:function(){var e,t=this;this._inputList=function(e){if(Array.isArray(e))return o(e)}(e=this._form.querySelectorAll(this._inputSelector))||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),this._buttonElement=this._form.querySelector(this._submitButtonSelector),this._toggleButtonState(),this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkIfValid(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._form.addEventListener("submit",(function(e){e.preventDefault()})),this._setEventListeners()}}])&&i(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),a=u;function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var c=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._initialArray=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.prepend(e)}},{key:"clear",value:function(){this._container.innerHTML=""}},{key:"renderItems",value:function(){var e=this;this.clear(),this._initialArray.forEach((function(t){e._renderer(t)}))}}])&&l(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=function(){function e(t){var n=this,r=t.popupSelector;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),f(this,"_handleClickOnOverlay",(function(e){e.target.closest(".modal__container")||n.close(e.currentTarget)})),f(this,"_handleEscapeClose",(function(e){e.preventDefault(),"Escape"===e.key&&n.close()})),this.popupElement=document.querySelector(r)}var t,n;return t=e,(n=[{key:"open",value:function(){this.popupElement.classList.add("modal__is-opened"),document.addEventListener("keyup",this._handleEscapeClose),this.popupElement.addEventListener("mousedown",this._handleClickOnOverlay)}},{key:"close",value:function(){this.popupElement.classList.remove("modal__is-opened"),document.removeEventListener("keyup",this._handleEscapeClose),this.popupElement.removeEventListener("mousedown",this._handleClickOnOverlay)}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=m(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},h.apply(this,arguments)}function m(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}function _(e,t){return _=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},_(e,t)}function v(e,t){if(t&&("object"===d(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return v(this,e)});function u(e){var t,n=e.popupSelector,r=e.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=i.call(this,{popupSelector:n}))._popupForm=t.popupElement.querySelector(".modal__box"),t._handleFormSubmit=r,t}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=this._popupForm.querySelectorAll(".modal__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"close",value:function(){this._popupForm.reset(),h(b(u.prototype),"close",this).call(this)}},{key:"setEventListeners",value:function(){var e=this;this._popupForm.addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()}))}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(p);function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(){return k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=O(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},k.apply(this,arguments)}function O(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=C(e)););return e}function j(e,t){return j=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},j(e,t)}function L(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=C(r);if(o){var n=C(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return L(this,e)});function u(){return w(this,u),i.apply(this,arguments)}return t=u,(n=[{key:"open",value:function(e,t,n){var r=e.name,o=e.link,i=this.popupElement.querySelector(n);this.popupElement.querySelector(t).textContent=r,i.src=o,i.alt=r,k(C(u.prototype),"open",this).call(this)}}])&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(p);function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var x=function(){function e(t){var n=t.userName,r=t.userTitle;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.userName=document.querySelector(n),this.userTitle=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{userName:this.userName.textContent,userTitle:this.userTitle.textContent}}},{key:"setUserInfo",value:function(e){var t=e.name,n=e.title;this.userName.textContent=t,this.userTitle.textContent=n}}])&&q(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),I=n(59),B=n(672),T=[{name:"Milwaukee, Wisconsin",link:n(96)},{name:"Chicago, Illinois",link:n(891)},{name:"Waikiki Beach O'ahu",link:n(143)},{name:"Sydney Harbour, Australia",link:n(739)},{name:"London, England",link:n(391)},{name:"Dubai",link:n(296)}],R={formSelector:".modal__box",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__input_error"},A=".modal__box",V=".modal__close-button",D=document.getElementById("imageImg"),F=document.getElementById("aroundSvg");D.src=B,F.src=I;var N=document.querySelector(".js-edit-modal"),U=document.querySelector(".js-add-modal"),M=document.querySelector(".js-preview-modal"),H=U.querySelector(A),W=N.querySelector(A),$=N.querySelector(V),z=U.querySelector(V),G=M.querySelector(V),J=document.querySelector(".profile__edit-button"),K=document.querySelector(".profile__add"),Q=new a(H,R);Q.enableValidation(),new a(W,R).enableValidation();var X=new x({userName:".profile__title-name",userTitle:".profile__text-job"}),Y=new P({popupSelector:".js-preview-modal"}),Z=function(e){return new r(e,"#card-template",{handlePreviewPopup:function(){Y.open(e,".modal__preview-text",".modal__preview-image")}}).generateCard()},ee=new c({items:T,renderer:function(e){return ee.addItem(Z(e))}},".cards"),te=new g({popupSelector:".js-edit-modal",handleFormSubmit:function(e){X.setUserInfo(e)}}),ne=new g({popupSelector:".js-add-modal",handleFormSubmit:function(e){ee.addItem(Z(e))}});ee.renderItems(),te.setEventListeners(),ne.setEventListeners();var re=document.querySelector(".modal__input_profile_name"),oe=document.querySelector(".modal__input_profile_title");J.addEventListener("click",(function(){var e=X.getUserInfo();re.value=e.userName,oe.value=e.userTitle,te.open()})),K.addEventListener("click",(function(){Q.resetValidation(),ne.open()})),$.addEventListener("click",(function(){return te.close()})),z.addEventListener("click",(function(){return ne.close()})),G.addEventListener("click",(function(){return Y.close()}))}()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVFKLEVBQWNTLE9BSXBDTixHQUFVTyxjQUNWTCxHQUFTTSxvQkFDVEgsR0FBUUcsb0JBR1IsSUFBTUMsR0FBWTdILFNBQVNWLGNEcERkLDhCQ3FEUHdJLEdBQWE5SCxTQUFTVixjRHBEZCwrQkNzRGRxSCxFQUF1QnZHLGlCQUFpQixTQUFTLFdBQy9DLElBQU0ySCxFQUFrQmhCLEVBQUtpQixjQUM3QkgsR0FBVTlDLE1BQVFnRCxFQUFnQnhDLFNBQ2xDdUMsR0FBVy9DLE1BQVFnRCxFQUFnQnZDLFVBQ25DOEIsR0FBU0osVUFHWE4sRUFBb0J4RyxpQkFBaUIsU0FBUyxXQUM1Q3lHLEVBQWlCb0Isa0JBQ2pCUixHQUFRUCxVQUdWVixFQUFxQnBHLGlCQUFpQixTQUFTLGtCQUFNa0gsR0FBU3BELFdBRTlEdUMsRUFBb0JyRyxpQkFBaUIsU0FBUyxrQkFBTXFILEdBQVF2RCxXQUM1RHdDLEVBQXdCdEcsaUJBQWlCLFNBQVMsa0JBQU00RyxFQUFTOUMsVyIsInNvdXJjZXMiOlsid2VicGFjazovL3dlYl9wcm9qZWN0XzQvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC93ZWJwYWNrL3J1bnRpbWUvcHVibGljUGF0aCIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vd2ViX3Byb2plY3RfNC8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3dlYl9wcm9qZWN0XzQvLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly93ZWJfcHJvamVjdF80Ly4vc3JjL3BhZ2VzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiOyIsImltcG9ydCB0cmFzaFNyYyBmcm9tIFwiLi4vaW1hZ2VzL1RyYXNoLnN2Z1wiO1xuXG5jbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoZGF0YSwgY2FyZFNlbGVjdG9yLCB7IGhhbmRsZVByZXZpZXdQb3B1cCB9KSB7XG4gICAgdGhpcy5fdGl0bGUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9oYW5kbGVQcmV2aWV3UG9wdXAgPSBoYW5kbGVQcmV2aWV3UG9wdXA7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICB9XG4gIC8vR1JBQlMgVEhFIEhUTUwgVEVNUExBVEUgRUxFTUVOVFxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2l0ZW1cIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gIH1cbiAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICAvL1xuXG4gIC8vIGhlYXJ0IHNoYXBlZCBsaWtlIGJ1dHRvbiwgdG9nZ2xlcyBmaWxsZWQgaW4gb3Igb3V0bGluZWQuLiBvbiAvIG9mZlxuICBfaGFuZGxlTGlrZUJ1dHRvbiA9ICgpID0+IHtcbiAgICBjb25zdCBjYXJkTGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKTtcbiAgICBjYXJkTGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xuICB9O1xuICAvLyB0cmFzaCBjYW4gaWNvbiBmb3IgZGVsZXRpbmcgdGhlIGNhcmQsIHJlbW92aW5nIGl0IGZyb20gdGhlIGxpc3RcbiAgX2hhbmRsZURlbGV0ZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9XG4gIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgLy9cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIC8vbGlrZSBidXR0b25cbiAgICB0aGlzLl9lbGVtZW50XG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCkpO1xuICAgIC8vZGVsZXRlIGJ1dHRvblxuICAgIHRoaXMuX2VsZW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RyYXNoXCIpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2hhbmRsZURlbGV0ZUJ1dHRvbigpKTtcbiAgICAvLyAvL3ByZXZpZXcgYnV0dG9uXG4gICAgdGhpcy5fZWxlbWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIilcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gdGhpcy5faGFuZGxlUHJldmlld1BvcHVwKCkpO1xuICB9XG4gIC8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbiAgLy9cbiAgLy8gdGhlIGZ1bGwgc2l6ZSBvZiB0aGUgaW1hZ2UgZnJvbSB0aGUgY2FyZC4gc2hvd3MgY2FwdGlvbi5cbiAgLy8gX2hhbmRsZVByZXZpZXdQb3B1cCgpIHtcbiAgLy8gICBpbWFnZUVsZW1lbnQuc3JjID0gdGhpcy5fbGluaztcbiAgLy8gICBwcmV2aWV3Q2FwdGlvbi50ZXh0Q29udGVudCA9IHRoaXMuX3RpdGxlO1xuICAvLyAgIGltYWdlRWxlbWVudC5hbHQgPSB0aGlzLl90aXRsZTtcblxuICAvLyAgIG9wZW5Qb3B1cChwcmV2aWV3SW1hZ2VNb2RhbFdpbmRvdyk7XG4gIC8vIH1cbiAgLy9fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgLy9ncmFicyB0aGUgY3VycmVudCBjYXJkIGl0c2VsZi5cbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICAvL2dyYWJzIGN1cnJlbnQgY2FyZHMgZXZlbnQgbGlzdGVuZXJzXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgICAvLyBncmFicyB0aGUgY3VycmVudCBjYXJkcyBpbWFnZSAvIHRpdGxlXG4gICAgY29uc3QgY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIGNhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xuICAgIGNhcmRJbWFnZS5hbHQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcGxhY2VcIikudGV4dENvbnRlbnQgPSB0aGlzLl90aXRsZTtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2hcIikuc3JjID0gdHJhc2hTcmM7XG5cbiAgICAvLy0tcmV0dXJucyB0aGUgd2l0aGRyYXdsLS0gKHNlbmRzIHRoZSBjYXJkIHdpdGggZmlsbGVkIGluIGRldGFpbHMpXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cbi8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX1xcXG4vL1xuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoZm9ybUVsZW1lbnQsIHNldHRpbmdzKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IHNldHRpbmdzLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBzZXR0aW5ncy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gc2V0dGluZ3MuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBzZXR0aW5ncy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IHNldHRpbmdzLmVycm9yQ2xhc3M7XG5cbiAgICB0aGlzLl9idXR0b25FbGVtZW50ID0gbnVsbDtcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBudWxsO1xuICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgdGhpcy5fZm9ybSA9IGZvcm1FbGVtZW50O1xuICB9XG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XG4gIH1cblxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCgpKSB7XG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIH1cbiAgfVxuICBfY2hlY2tJZlZhbGlkKGlucHV0RWxlbWVudCkge1xuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xuICAgIH1cbiAgfVxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2godGhpcy5faGlkZUlucHV0RXJyb3IuYmluZCh0aGlzKSk7XG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lucHV0TGlzdC5zb21lKChpbnB1dEVsZW1lbnQpID0+ICFpbnB1dEVsZW1lbnQudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xuICAgICAgaW5wdXRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSWZWYWxpZChpbnB1dEVsZW1lbnQpO1xuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faW5pdGlhbEFycmF5ID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgfVxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5jbGVhcigpO1xuICAgIHRoaXMuX2luaXRpYWxBcnJheS5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMucG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuICBvcGVuKCkge1xuICAgIHRoaXMucG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9faXMtb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NhcGVDbG9zZSk7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLCB0aGlzLl9oYW5kbGVDbGlja09uT3ZlcmxheSk7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX19pcy1vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY2FwZUNsb3NlKTtcbiAgICB0aGlzLnBvcHVwRWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFxuICAgICAgXCJtb3VzZWRvd25cIixcbiAgICAgIHRoaXMuX2hhbmRsZUNsaWNrT25PdmVybGF5XG4gICAgKTtcbiAgfVxuICBfaGFuZGxlQ2xpY2tPbk92ZXJsYXkgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKCFldnQudGFyZ2V0LmNsb3Nlc3QoXCIubW9kYWxfX2NvbnRhaW5lclwiKSkge1xuICAgICAgdGhpcy5jbG9zZShldnQuY3VycmVudFRhcmdldCk7XG4gICAgfVxuICB9O1xuICBfaGFuZGxlRXNjYXBlQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgLy8gVEhJUyBJUyBIT1cgSVQgS05PV1MgV0hJQ0ggUE9QVVAgVE8gVVNFXG4gIC8vIHlvdSBhcmUgZW50ZXJpbmcgaXQgYXQgdGhlIHZlcnkgYmVnaW5uaW5nIHdoZW4gY2FsbGluZyAodXNpbmcpIHRoZSBjbGFzc1xuICAvLyB5b3UgdGVsbCBpdCB3aGF0IGl0IGlzLCB0aGUgcmVzdCBvZiB0aGUgY29kZSBqdXN0IHByb2Nlc3NlcyBpdC5cbiAgY29uc3RydWN0b3IoeyAvKiAtPiAqLyBwb3B1cFNlbGVjdG9yLCAvKiA8LSAqLyBoYW5kbGVGb3JtU3VibWl0IH0pIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG5cbiAgICB0aGlzLl9wb3B1cEZvcm0gPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19ib3hcIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgLy8gICAgIF5eXl5eXl5eXl5eXl4gICAgICAgIF5eXl5eXl5eXl5eXG4gICAgLy8gICAgICAgICAgfCAgICAgICAgICAgICAgICAgfFxuICAgIC8vIHRoaXMgaXMgd2hhdCBjb25uZWN0cyAgICAgICB0aGlzIGlzIHBhc3NlZCBpbiB3aGVuIGNyZWF0aW5nIGFuIGluc3RhbmNlXG4gICAgLy8gdG8gaXQuICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGZvcm1hdC4gVGhlIFwicG9wdXBTZWxlY3RvclwiIHdpbGwgYmUgdGhlIGh0bWwgY2xhc3NcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5kIHRoZSBcImhhbmRsZUZvcm1TdWJtaXRcIiB3aWxsIGJlIGEgY2FsbGJhY2sgZnVuY3Rpb24uXG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgLy8gZ2V0IGFsbCBmaWVsZCBlbGVtZW50c1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcbiAgICAvLyBjcmVhdGUgYW4gZW1wdHkgb2JqZWN0XG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xuICAgIC8vIGFkZCB2YWx1ZXMgb2YgdGhlIGZpZWxkcyB0byB0aGlzIG9iamVjdFxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xuICAgIH0pO1xuICAgIC8vIHJldHVybiB2YWx1ZXMgb2JqZWN0IHRoaXMuX2Zvcm1WYWx1ZXMgd2lsbCB0aGUgdGhlIHJldHVybiB3aGVuIHVzaW5nIHRoaXMgbWV0aG9kLlxuICAgIC8vIHVzaW5nIF9nZXRJbnB1dFZhbHVlcyB3aWxsIGdpdmUgbWUgdGhlIGZvcm1WYWx1ZXMgb2YgdGhlIGZvcm0gZmllbGQgdGhhdCB3YXNcbiAgICAvLyBlbnRlcmVkIGluIHRoZSBjbGFzcyBjb25zdHJ1Y3Rvci4gVGhpcyB3aWxsIGhhdmUgdG8gYmUgZG9uZSBmb3IgZWFjaCBmb3JtIChwbGFjZSBhbmQgZWRpdCkuXG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBGb3JtLnJlc2V0KCk7XG4gICAgc3VwZXIuY2xvc2UoKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChldnQpID0+IHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgLy8gQWRkIGEgX2hhbmRsZUZvcm1TdWJtaXQoKSBmdW5jdGlvbiBjYWxsXG4gICAgICAvLyBQYXNzIGFuIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHRoZSBfZ2V0SW5wdXRWYWx1ZXMgd29yayB0byBpdFxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcblxuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIG9wZW4oeyBuYW1lLCBsaW5rIH0sIHByZXZpZXdUZXh0LCBwcmV2aWV3SW1hZ2UpIHtcbiAgICBjb25zdCBpbWFnZUVsZW1lbnQgPSB0aGlzLnBvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKHByZXZpZXdJbWFnZSk7XG4gICAgdGhpcy5wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihwcmV2aWV3VGV4dCkudGV4dENvbnRlbnQgPSBuYW1lO1xuICAgIGltYWdlRWxlbWVudC5zcmMgPSBsaW5rO1xuICAgIGltYWdlRWxlbWVudC5hbHQgPSBuYW1lO1xuXG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKHsgdXNlck5hbWUsIHVzZXJUaXRsZSB9KSB7XG4gICAgdGhpcy51c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWUpO1xuICAgIHRoaXMudXNlclRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyVGl0bGUpO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXJOYW1lOiB0aGlzLnVzZXJOYW1lLnRleHRDb250ZW50LFxuICAgICAgdXNlclRpdGxlOiB0aGlzLnVzZXJUaXRsZS50ZXh0Q29udGVudCxcbiAgICB9O1xuICB9XG5cbiAgc2V0VXNlckluZm8oeyBuYW1lLCB0aXRsZSB9KSB7XG4gICAgdGhpcy51c2VyTmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy51c2VyVGl0bGUudGV4dENvbnRlbnQgPSB0aXRsZTtcbiAgfVxufVxuIiwiLy8gQ0FSRCBURU1QTEFURSBTRUxFQ1RPUlxuZXhwb3J0IGNvbnN0IGNhcmRTZWxlY3RvciA9IFwiI2NhcmQtdGVtcGxhdGVcIjtcbi8vIElOSVRJQUwgQ0FSRFMgSU1QT1JUXG5pbXBvcnQgbWlsd2F1a2VlU3JjIGZyb20gXCIuLi9pbWFnZXMvbWlsd2F1a2VlLmpwZ1wiO1xuaW1wb3J0IGNoaWNhZ29TcmMgZnJvbSBcIi4uL2ltYWdlcy9jaGljYWdvLmpwZ1wiO1xuaW1wb3J0IHdhaWtpa2lTcmMgZnJvbSBcIi4uL2ltYWdlcy93YWlraWtpLmpwZ1wiO1xuaW1wb3J0IHN5ZG5leVNyYyBmcm9tIFwiLi4vaW1hZ2VzL3N5ZG5leS5qcGdcIjtcbmltcG9ydCBsb25kb25TcmMgZnJvbSBcIi4uL2ltYWdlcy9sb25kb24uanBnXCI7XG5pbXBvcnQgZHViYWlTcmMgZnJvbSBcIi4uL2ltYWdlcy9kdWJhaS5qcGdcIjtcbi8vIElOSVRJQUwgQ0FSRFMgT0JKRUNUXG5leHBvcnQgY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJNaWx3YXVrZWUsIFdpc2NvbnNpblwiLFxuICAgIGxpbms6IG1pbHdhdWtlZVNyYyxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiQ2hpY2FnbywgSWxsaW5vaXNcIixcbiAgICBsaW5rOiBjaGljYWdvU3JjLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJXYWlraWtpIEJlYWNoIE8nYWh1XCIsXG4gICAgbGluazogd2Fpa2lraVNyYyxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiU3lkbmV5IEhhcmJvdXIsIEF1c3RyYWxpYVwiLFxuICAgIGxpbms6IHN5ZG5leVNyYyxcbiAgfSxcbiAge1xuICAgIG5hbWU6IFwiTG9uZG9uLCBFbmdsYW5kXCIsXG4gICAgbGluazogbG9uZG9uU3JjLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJEdWJhaVwiLFxuICAgIGxpbms6IGR1YmFpU3JjLFxuICB9LFxuXTtcbi8vIFNFVFRJTkdTXG5leHBvcnQgY29uc3Qgc2V0dGluZ3MgPSB7XG4gIGZvcm1TZWxlY3RvcjogXCIubW9kYWxfX2JveFwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF9lcnJvclwiLFxufTtcblxuLy8gUFJPRklMRSBDT05GSUcgT0JKRUNULVxuZXhwb3J0IGNvbnN0IHByb2ZpbGVDb25maWcgPSB7XG4gIG5hbWVJbnB1dDogXCIubW9kYWxfX2lucHV0X3Byb2ZpbGVfbmFtZVwiLFxuICB0aXRsZUlucHV0OiBcIi5tb2RhbF9faW5wdXRfcHJvZmlsZV90aXRsZVwiLFxufTtcbi8vIFBMQUNFIENPTkZJRyBPQkpFQ1QtXG5leHBvcnQgY29uc3QgcGxhY2VDb25maWcgPSB7XG4gIHBob3RvVGl0bGVJbnB1dDogXCIubW9kYWxfX2lucHV0X2ltYWdlX3RpdGxlXCIsXG4gIHBob3RvSW5wdXQ6IFwiLm1vZGFsX19pbnB1dF9pbWFnZV9saW5rXCIsXG59O1xuLy8gUEhPVE8gQ09ORklHIE9CSkVDVC1cbmV4cG9ydCBjb25zdCBwaG90b0NvbmZpZyA9IHtcbiAgdGl0bGU6IFwiLm1vZGFsX19wcmV2aWV3LXRleHRcIixcbiAgbGluazogXCIubW9kYWxfX3ByZXZpZXctaW1hZ2VcIixcbn07XG5cbi8vIE1PREFMIFdJTkRPVyBDT05GSUcgT0JKRUNUXG5leHBvcnQgY29uc3QgbW9kYWxXaW5kb3dDb25maWcgPSB7XG4gIGVkaXQ6IFwiLmpzLWVkaXQtbW9kYWxcIixcbiAgYWRkOiBcIi5qcy1hZGQtbW9kYWxcIixcbiAgcHJldmlldzogXCIuanMtcHJldmlldy1tb2RhbFwiLFxufTtcbi8vIEZPUk0gQ09ORklHIE9CSkVDVFxuZXhwb3J0IGNvbnN0IGZvcm1Db25maWcgPSB7XG4gIGJveDogXCIubW9kYWxfX2JveFwiLFxufTtcblxuZXhwb3J0IGNvbnN0IGNsb3NlQnV0dG9uQ29uZmlnID0ge1xuICBjbG9zZTogXCIubW9kYWxfX2Nsb3NlLWJ1dHRvblwiLFxufTtcbi8vXG5leHBvcnQgY29uc3QgcG9wdXBCdXR0b25Db25maWcgPSB7XG4gIGVkaXQ6IFwiLnByb2ZpbGVfX2VkaXQtYnV0dG9uXCIsXG4gIGFkZDogXCIucHJvZmlsZV9fYWRkXCIsXG59O1xuIiwiaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5pbXBvcnQgYXJvdW5kU3JjIGZyb20gXCIuLi9pbWFnZXMvYXJvdW5kLnN2Z1wiO1xuaW1wb3J0IGltYWdlU3JjIGZyb20gXCIuLi9pbWFnZXMvaW1hZ2UuanBnXCI7XG5cbmltcG9ydCB7XG4gIGluaXRpYWxDYXJkcyxcbiAgc2V0dGluZ3MsXG4gIHByb2ZpbGVDb25maWcsXG4gIHBob3RvQ29uZmlnLFxuICBtb2RhbFdpbmRvd0NvbmZpZyxcbiAgY2xvc2VCdXR0b25Db25maWcsXG4gIHBvcHVwQnV0dG9uQ29uZmlnLFxuICBmb3JtQ29uZmlnLFxuICBjYXJkU2VsZWN0b3IsXG59IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuY29uc3QgaW1hZ2VJbWcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImltYWdlSW1nXCIpO1xuY29uc3QgYXJvdW5kU3ZnID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcm91bmRTdmdcIik7XG5cbmltYWdlSW1nLnNyYyA9IGltYWdlU3JjO1xuYXJvdW5kU3ZnLnNyYyA9IGFyb3VuZFNyYztcblxuY29uc3QgZWRpdE1vZGFsV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFdpbmRvd0NvbmZpZy5lZGl0KTtcbmNvbnN0IGFkZE1vZGFsV2luZG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihtb2RhbFdpbmRvd0NvbmZpZy5hZGQpO1xuY29uc3QgcHJldmlld0ltYWdlTW9kYWxXaW5kb3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICBtb2RhbFdpbmRvd0NvbmZpZy5wcmV2aWV3XG4pO1xuY29uc3QgYWRkTW9kYWxCb3ggPSBhZGRNb2RhbFdpbmRvdy5xdWVyeVNlbGVjdG9yKGZvcm1Db25maWcuYm94KTtcbmNvbnN0IGVkaXRNb2RhbEJveCA9IGVkaXRNb2RhbFdpbmRvdy5xdWVyeVNlbGVjdG9yKGZvcm1Db25maWcuYm94KTtcblxuY29uc3QgZWRpdE1vZGFsQ2xvc2VCdXR0b24gPSBlZGl0TW9kYWxXaW5kb3cucXVlcnlTZWxlY3RvcihcbiAgY2xvc2VCdXR0b25Db25maWcuY2xvc2Vcbik7XG5jb25zdCBhZGRNb2RhbENsb3NlQnV0dG9uID0gYWRkTW9kYWxXaW5kb3cucXVlcnlTZWxlY3RvcihcbiAgY2xvc2VCdXR0b25Db25maWcuY2xvc2Vcbik7XG5jb25zdCBwcmV2aWV3SW1hZ2VDbG9zZUJ1dHRvbiA9IHByZXZpZXdJbWFnZU1vZGFsV2luZG93LnF1ZXJ5U2VsZWN0b3IoXG4gIGNsb3NlQnV0dG9uQ29uZmlnLmNsb3NlXG4pO1xuY29uc3QgZWRpdFByb2ZpbGVQb3B1cEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBCdXR0b25Db25maWcuZWRpdCk7XG5jb25zdCBhZGRQbGFjZVBvcHVwQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cEJ1dHRvbkNvbmZpZy5hZGQpO1xuXG4vL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4vL1xuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGFkZE1vZGFsQm94LCBzZXR0aW5ncyk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihlZGl0TW9kYWxCb3gsIHNldHRpbmdzKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcbmNvbnN0IHVzZXIgPSBuZXcgVXNlckluZm8oe1xuICB1c2VyTmFtZTogXCIucHJvZmlsZV9fdGl0bGUtbmFtZVwiLFxuICB1c2VyVGl0bGU6IFwiLnByb2ZpbGVfX3RleHQtam9iXCIsXG59KTtcbi8vIEFOIElOU1RBTkNFIE9GIFRIRSBQT1BVUCBXSVRIIElNQUdFIENMQVNTXG5jb25zdCBwcmVJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiLmpzLXByZXZpZXctbW9kYWxcIixcbn0pO1xuLy8vXG4vLyBhbiBpbnN0cnVjdGlvbiBmb3IgcHJvY2Vzc2luZyBhIENhcmQgaW5zdGFuY2UgaGVyZVxuY29uc3QgY3JlYXRlTmV3Q2FyZCA9IChpdGVtKSA9PiB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChpdGVtLCBjYXJkU2VsZWN0b3IsIHtcbiAgICBoYW5kbGVQcmV2aWV3UG9wdXA6ICgpID0+IHtcbiAgICAgIHByZUltYWdlLm9wZW4oaXRlbSwgcGhvdG9Db25maWcudGl0bGUsIHBob3RvQ29uZmlnLmxpbmspO1xuICAgIH0sXG4gIH0pO1xuXG4gIHJldHVybiBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xufTtcbmNvbnN0IGNhcmRzTGlzdCA9IG5ldyBTZWN0aW9uKFxuICB7XG4gICAgaXRlbXM6IGluaXRpYWxDYXJkcyxcbiAgICByZW5kZXJlcjogKGl0ZW0pID0+IGNhcmRzTGlzdC5hZGRJdGVtKGNyZWF0ZU5ld0NhcmQoaXRlbSkpLFxuICB9LFxuICBcIi5jYXJkc1wiXG4pO1xuY29uc3QgZWRpdEZvcm0gPSBuZXcgUG9wdXBXaXRoRm9ybSh7XG4gIHBvcHVwU2VsZWN0b3I6IFwiLmpzLWVkaXQtbW9kYWxcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKHVzZXJPYmplY3QpID0+IHtcbiAgICB1c2VyLnNldFVzZXJJbmZvKHVzZXJPYmplY3QpO1xuICB9LFxufSk7XG5jb25zdCBhZGRGb3JtID0gbmV3IFBvcHVwV2l0aEZvcm0oe1xuICBwb3B1cFNlbGVjdG9yOiBcIi5qcy1hZGQtbW9kYWxcIixcbiAgaGFuZGxlRm9ybVN1Ym1pdDogKGNhcmQpID0+IHtcbiAgICBjYXJkc0xpc3QuYWRkSXRlbShjcmVhdGVOZXdDYXJkKGNhcmQpKTtcbiAgfSxcbn0pO1xuXG5jYXJkc0xpc3QucmVuZGVySXRlbXMoKTtcbmVkaXRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRGb3JtLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4vLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRVZFTlQgTElTVEVORVJTICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vXG4vL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXy8vXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVDb25maWcubmFtZUlucHV0KTtcbmNvbnN0IHRpdGxlSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHByb2ZpbGVDb25maWcudGl0bGVJbnB1dCk7XG5cbmVkaXRQcm9maWxlUG9wdXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgY29uc3QgY3VycmVudFVzZXJJbmZvID0gdXNlci5nZXRVc2VySW5mbygpO1xuICBuYW1lSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8udXNlck5hbWU7XG4gIHRpdGxlSW5wdXQudmFsdWUgPSBjdXJyZW50VXNlckluZm8udXNlclRpdGxlO1xuICBlZGl0Rm9ybS5vcGVuKCk7XG59KTtcbi8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbmFkZFBsYWNlUG9wdXBCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkRm9ybVZhbGlkYXRvci5yZXNldFZhbGlkYXRpb24oKTtcbiAgYWRkRm9ybS5vcGVuKCk7XG59KTtcbi8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbmVkaXRNb2RhbENsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBlZGl0Rm9ybS5jbG9zZSgpKTtcbi8vX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19cbmFkZE1vZGFsQ2xvc2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGFkZEZvcm0uY2xvc2UoKSk7XG5wcmV2aWV3SW1hZ2VDbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gcHJlSW1hZ2UuY2xvc2UoKSk7XG4vL19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fX19fXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJwIiwiQ2FyZCIsImRhdGEiLCJjYXJkU2VsZWN0b3IiLCJoYW5kbGVQcmV2aWV3UG9wdXAiLCJfZWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJ0aGlzIiwiX3RpdGxlIiwibmFtZSIsIl9saW5rIiwibGluayIsIl9oYW5kbGVQcmV2aWV3UG9wdXAiLCJfY2FyZFNlbGVjdG9yIiwiZG9jdW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwicmVtb3ZlIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9oYW5kbGVMaWtlQnV0dG9uIiwiX2hhbmRsZURlbGV0ZUJ1dHRvbiIsIl9nZXRUZW1wbGF0ZSIsIl9zZXRFdmVudExpc3RlbmVycyIsImNhcmRJbWFnZSIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwidHJhc2hTcmMiLCJGb3JtVmFsaWRhdG9yIiwiZm9ybUVsZW1lbnQiLCJzZXR0aW5ncyIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2luYWN0aXZlQnV0dG9uQ2xhc3MiLCJpbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiX2lucHV0RXJyb3JDbGFzcyIsImlucHV0RXJyb3JDbGFzcyIsIl9lcnJvckNsYXNzIiwiZXJyb3JDbGFzcyIsIl9idXR0b25FbGVtZW50IiwiX2lucHV0TGlzdCIsIl9mb3JtIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJhZGQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oYXNJbnZhbGlkSW5wdXQiLCJkaXNhYmxlZCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJmb3JFYWNoIiwiYmluZCIsIl90b2dnbGVCdXR0b25TdGF0ZSIsInNvbWUiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX2NoZWNrSWZWYWxpZCIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJTZWN0aW9uIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2luaXRpYWxBcnJheSIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJlbGVtZW50IiwicHJlcGVuZCIsImlubmVySFRNTCIsImNsZWFyIiwiaXRlbSIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsImV2dCIsInRhcmdldCIsImNsb3Nlc3QiLCJjbG9zZSIsImN1cnJlbnRUYXJnZXQiLCJrZXkiLCJwb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjYXBlQ2xvc2UiLCJfaGFuZGxlQ2xpY2tPbk92ZXJsYXkiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiUG9wdXBXaXRoRm9ybSIsImhhbmRsZUZvcm1TdWJtaXQiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfZm9ybVZhbHVlcyIsImlucHV0IiwidmFsdWUiLCJyZXNldCIsIl9nZXRJbnB1dFZhbHVlcyIsIlBvcHVwV2l0aEltYWdlIiwicHJldmlld1RleHQiLCJwcmV2aWV3SW1hZ2UiLCJpbWFnZUVsZW1lbnQiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlclRpdGxlIiwidGl0bGUiLCJpbml0aWFsQ2FyZHMiLCJmb3JtU2VsZWN0b3IiLCJmb3JtQ29uZmlnIiwiY2xvc2VCdXR0b25Db25maWciLCJpbWFnZUltZyIsImdldEVsZW1lbnRCeUlkIiwiYXJvdW5kU3ZnIiwiaW1hZ2VTcmMiLCJhcm91bmRTcmMiLCJlZGl0TW9kYWxXaW5kb3ciLCJhZGRNb2RhbFdpbmRvdyIsInByZXZpZXdJbWFnZU1vZGFsV2luZG93IiwiYWRkTW9kYWxCb3giLCJlZGl0TW9kYWxCb3giLCJlZGl0TW9kYWxDbG9zZUJ1dHRvbiIsImFkZE1vZGFsQ2xvc2VCdXR0b24iLCJwcmV2aWV3SW1hZ2VDbG9zZUJ1dHRvbiIsImVkaXRQcm9maWxlUG9wdXBCdXR0b24iLCJhZGRQbGFjZVBvcHVwQnV0dG9uIiwiYWRkRm9ybVZhbGlkYXRvciIsImVuYWJsZVZhbGlkYXRpb24iLCJ1c2VyIiwicHJlSW1hZ2UiLCJjcmVhdGVOZXdDYXJkIiwib3BlbiIsImdlbmVyYXRlQ2FyZCIsImNhcmRzTGlzdCIsImFkZEl0ZW0iLCJlZGl0Rm9ybSIsInVzZXJPYmplY3QiLCJzZXRVc2VySW5mbyIsImFkZEZvcm0iLCJjYXJkIiwicmVuZGVySXRlbXMiLCJzZXRFdmVudExpc3RlbmVycyIsIm5hbWVJbnB1dCIsInRpdGxlSW5wdXQiLCJjdXJyZW50VXNlckluZm8iLCJnZXRVc2VySW5mbyIsInJlc2V0VmFsaWRhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=